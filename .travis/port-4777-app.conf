
server {
    listen       4777;

	location / {
		root  /var/www/html;
		index index.html index.json index.csv;
		expires epoch;
	}

	location /gzip/ {
		gzip on;
		gzip_min_length 1;
		gzip_types "*";
		gzip_proxied any;
		root  /var/www/html;
		index index.html index.json;
		expires epoch;
	}

	location /image/ {
		root  /var/www/html;
		index cc-public-domain-mark.png;
		expires epoch;
	}

	location /echo/ {
		lua_need_request_body on;
		content_by_lua '
		         ngx.header["Content-Type"] = ngx.var.http_content_type
		         ngx.header["X-Request-Method"] = ngx.var.request_method
		         ngx.header["X-Custom-Header"] = ngx.var.http_custom_header
                 ngx.print(ngx.var.request_body)
	    ';
	}

}
